<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Squoosh with Quarkus</title>
</head>
<body>
<h1>Upload a file</h1>
<script src="https://unpkg.com/htmx.org@1.9.5"></script>
<form id='form' hx-encoding='multipart/form-data' hx-put='/squoosh'>
    <input type='file' name='file'>
    <button>Upload</button>
    <progress id='progress' value='0' max='100'></progress>
    <input value="image-2" name='filename'>
</form>
<script>
    htmx.on('#form', 'htmx:xhr:progress', function (evt) {
        htmx.find('#progress').setAttribute('value', evt.detail.loaded / evt.detail.total * 100)
    });
</script>
</body>
</html>
